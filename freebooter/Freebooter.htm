<!DOCTYPE html>
<html>
   <head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<canvas id="PrimeCanvas" width="600" height="600"></canvas>
	<div id="CanvasDiv" style="position:absolute; top:8px; left:612px; z-index:2">
	   <canvas id="ZoomCanvas" width="240" height="240"></canvas>
	</div>
	<div id="ConsoleDiv" style="position:absolute; top:252px; left:612px; z-index:3">
	   <canvas id="ConsoleCanvas" width="240" height="320"></canvas>
	</div>
   </head>

   <button type="button" id="StartButton" onclick="EventHandler(0)">Start</button>
   <button type="button" id="LoadButton"  onclick="EventHandler(1)">Load</button>
   <button type="button" id="SaveButton"  onclick="EventHandler(2)">Save</button>
   <button type="button" id="TestButton"  onclick="EventHandler(3)">Test</button>

   <body onload="RunFreebooter()">

	<!-- Data -->
	<script src="..\library\GenieData.js"></script>
	<script src="..\library\data\Consts.js"></script>
	<script src="..\library\data\Colours.js"></script>
	<script src="..\library\data\Geo.js"></script>
	<script src="..\library\data\IO.js"></script>
	<script src="..\library\data\Controls.js"></script>
	<script src="..\library\data\Images.js"></script>
	<script src="..\library\data\Sprites.js"></script>
	<script src="..\library\data\Agents.js"></script>
	<script src="..\library\data\Weapons.js"></script>

	<script src="..\library\GenieTypes.js"></script>
	<script src="..\library\GenieColour.js"></script>
	<script src="..\library\GenieArray.js"></script>
	<script src="..\library\AgentArray.js"></script>

	<script src="..\modules\GenieUtils.js"></script>
	<script src="..\library\utils\ArrayUtils.js"></script>
	<script src="..\library\utils\GeoUtils.js"></script>
	<script src="..\library\utils\SpaceUtils.js"></script>

	<!-- Tools -->
	<script src="..\library\GenieGraphics.js"></script>
	<script src="..\library\GenieCalcPad.js"></script>
	<script src="..\library\GenieText.js"></script>
	<script src="..\library\GenieRandom.js"></script>
	<script src="..\modules\GenieSpace.js"></script>

	<script src="..\modules\GenieObject.js"></script>

	<script src="..\library\GenieAgent.js"></script>
	<script src="..\library\GenieWeapon.js"></script>
	<script src="..\library\agent\Draw.js"></script>
	<script src="..\library\weapons\GenieCannon.js"></script>

	<!-- FX -->
	<script src="..\modules\GenieFX.js"></script>
	<script src="..\library\GenieSound.js"></script>

	<script src="..\library\GenieShape.js"></script>
	<script src="..\library\shapes\GeniePolygon.js"></script>

	<script src="..\library\GenieImage.js"></script>
	<script src="..\library\ImageMap.js"></script>

	<!-- Controls -->
	<script src="..\library\GenieControl.js"></script>
	<script src="..\library\controls\GenieButton.js"></script>
	<script src="..\library\controls\TextButton.js"></script>
	<script src="..\library\controls\ImageButton.js"></script>
	<script src="..\library\controls\ButtonPanel.js"></script>

	<script src="..\modules\GenieSprite.js"></script>
	<script src="..\modules\GenieSprites.js"></script>
	<script src="..\library\GenieSprite.js"></script>

	<!-- Interface -->
	<script src="..\library\GenieMouse.js"></script>
	<script src="..\library\GenieKeyboard.js"></script>
	<script src="..\library\GenieGamepad.js"></script>
	<script src="..\library\TouchScreen.js"></script>
	<script src="..\library\TrackPad.js"></script>

	<!-- Framework -->
	<script src="..\library\ImageManager.js"></script>
	<script src="..\library\GenieCanvas.js"></script>
	<script src="..\library\GenieScape.js"></script>
	<script src="..\library\GenieView.js"></script>
	<script src="..\library\views\SubView.js"></script>
	<script src="..\library\views\NestedView.js"></script>
	<script src="..\library\GenieGame.js"></script>

	<!-- data -->
	<script src="data.js"></script>
	<script src="data\celestial.js"></script>
	<script src="data\colours.js"></script>
	<script src="data\names.js"></script>
	<script src="data\images.js"></script>
	<script src="data\sprites.js"></script>
	<script src="data\views.js"></script>

	<script src="types.js"></script>

	<script src="units.js"></script>
	<script src="pilot.js"></script>
	<script src="ship.js"></script>
	<script src="pirate.js"></script>
	<script src="starstile.js"></script>
	<script src="docking.js"></script>
	<script src="planet.js"></script>
	<script src="station.js"></script>
	<script src="starfield.js"></script>
	<script src="sun.js"></script>
	<script src="solarsystem.js"></script>
	<script src="cockpit.js"></script>
	<script src="voyage\crate.js"></script>
	<script src="voyage\cargo.js"></script>
	<script src="voyage\route.js"></script>

	<!-- views -->
	<script src="views\intro.js"></script>
	<script src="views\intro\info.js"></script>
	<script src="views\intro\console.js"></script>
	<script src="views\cockpit\info.js"></script>
	<script src="views\cockpit\console.js"></script>
	<script src="views\courier.js"></script>
	<script src="views\courier\info.js"></script>
	<script src="views\courier\console.js"></script>
	<script src="views\docked.js"></script>
	<script src="views\docked\info.js"></script>
	<script src="views\docked\console.js"></script>
	<script src="views\docking.js"></script>
	<script src="views\jump.js"></script>
	<script src="views\jump\info.js"></script>
	<script src="views\jump\console.js"></script>
	<script src="views\trade.js"></script>
	<script src="views\trade\info.js"></script>
	<script src="views\trade\console.js"></script>
	<script src="views\voyage.js"></script>
	<script src="views\voyage\info.js"></script>
	<script src="views\voyage\console.js"></script>
	<script src="views\word\info.js"></script>
	<script src="views\word\console.js"></script>
	<script src="views\word\cell.js"></script>

	<script src="components.js"></script>
	<script src="components\images.js"></script>
	<script src="components\views.js"></script>

	<script src="asteroid.js"></script>

	<script src="intro.js"></script>

	<script src="testing.js"></script>
	<script src="testing\missions.js"></script>
	<script src="testing\weapons.js"></script>
	<script src="testing\docking.js"></script>
	<script src="testing\launching.js"></script>
	<script src="testing\ships.js"></script>
	<script src="testing\mission.js"></script>
	<script src="testing\trackpad.js"></script>
	<script src="testing\orbs.js"></script>

	<script src="minigames.js"></script>
	<script src="minigames\pirates.js"></script>

	<script src="rTrader.js"></script>

	<script>

	 //Main game object
	 var Game;

	   function RunFreebooter() {

	    //Create library components
	    SolarScape = new GenieScape();
	    SolarCalcPad = new GenieCalcPad();
	    SolarGraphics = new GenieGraphics();
	    SolarText = new GenieText();
	    SolarRandomizer = new GenieRandomizer();

	    //Set library components
	    SolarScape.Set("PrimeCanvas", "ZoomCanvas", "ConsoleCanvas");
	    SolarCalcPad.Set();
	    SolarGraphics.Set(SolarScape.PrimeScape.Context, SolarScape.ZoomScape.Context, SolarScape.ControlPanel);
	    SolarText.Set(SolarScape.Screen, null, SolarScape.InfoBox, SolarScape.ControlPanel);
	    SolarScape.PrimeScape.Context.font = FONT.DEFAULT;
	    SolarScape.AddController(GAMePAD.ARROWS);
	    Controller = SolarScape.ControllerA;
	    SolarRandomizer.Set();

	    //Load and assign graphic images
	    ImageManager.Set(SolarImages);
	    ImageManager.LoadImages();
	    ImageManager.Check();				//Check if images have loaded

	    //Begin as soon as images have loaded
	    Game = new RogueTrader();
	    Game.Set(SolarScape, SolarGraphics, SolarCalcPad, SolarText, SolarRandomizer);
	    Game.CheckImagesLoaded();
	 }

	 function EventHandler(EventNumber) {
	    switch (EventNumber) {
		 case EVENT.STARtBUTTOnCLICKED:
		  Game.Play();
		  break;
		 case EVENT.LOAdBUTTOnCLICKED:
		  MiniGames.Start();
		    break;
		 case EVENT.SAVeBUTTOnCLICKED:
		    break;
		 case EVENT.TEStBUTTOnCLICKED:
		  Testing.Start();
		    break;
		 }
	 };

	</script>
   </body>
</html>
